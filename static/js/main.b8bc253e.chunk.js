(this["webpackJsonpiot-dashboard-front"]=this["webpackJsonpiot-dashboard-front"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){e.exports=a.p+"static/media/iot.40217429.png"},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(45),o=a(17),c=a(24),s=a(89),l=a(15),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{modules:[],loadingModules:!1,countModules:1,pageModules:1,errorModules:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MODULES_REQUEST":return Object(l.a)({},e,{modules:[],loadingModules:!0,pageModules:t.page,errorModules:""});case"LOAD_MODULES_SUCCESS":return Object(l.a)({},e,{modules:t.models,loadingModules:!1,countModules:Math.ceil(t.count/10)});case"LOAD_MODULES_FAILED":return Object(l.a)({},e,{loadingModules:!1,countModules:1,pageModules:1,errorModules:t.error});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notifications:[],loadingNotifications:!1,countNotifications:1,pageNotifications:1,errorNotifications:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_NOTIFICATIONS_REQUEST":return Object(l.a)({},e,{notifications:[],loadingNotifications:!0,pageNotifications:t.page,errorNotifications:""});case"LOAD_NOTIFICATIONS_SUCCESS":return Object(l.a)({},e,{notifications:t.notifications,loadingNotifications:!1,countNotifications:Math.ceil(t.count/40)});case"LOAD_NOTIFICATIONS_FAILED":return Object(l.a)({},e,{loadingNotifications:!1,countNotifications:1,pageNotifications:1,errorNotifications:t.error});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{module:null,loadingModule:!1,temperatureHistory:[],activityStateHistory:[],dataExchangeHistory:[],errorModule:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MODULE_BY_ID_REQUEST":return{module:null,loadingModule:!0,temperatureHistory:[],activityStateHistory:[],dataExchangeHistory:[],errorModule:""};case"LOAD_MODULE_BY_ID_SUCCESS":return Object(l.a)({},e,{module:t.model,loadingModule:!1,temperatureHistory:t.temperatureHistory,activityStateHistory:t.activityStateHistory,dataExchangeHistory:t.dataExchangeHistory});case"LOAD_MODULE_BY_ID_FAILED":return Object(l.a)({},e,{loadingModule:!1,errorModule:t.error});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notification:null,module:null,loadingNotification:!1,errorNotification:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_NOTIFICATION_BY_ID_REQUEST":return{notification:null,module:null,loadingNotification:!0,errorNotification:""};case"LOAD_NOTIFICATION_BY_ID_SUCCESS":return console.log("dsdsds"),Object(l.a)({},e,{notification:t.notification,module:t.model,loadingNotification:!1});case"LOAD_NOTIFICATION_BY_ID_FAILED":return console.log("herppe"),Object(l.a)({},e,{loadingNotification:!1,errorNotification:t.error});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{submitting:!1,errorSubmit:"",success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MODULE_REQUEST":return{submitting:!0,errorSubmit:"",success:!1};case"CREATE_MODULE_SUCCESS":return Object(l.a)({},e,{submitting:!1,success:!0});case"CREATE_MODULE_FAILED":return console.log(t.error),{submitting:!1,errorSubmit:t.error};case"CLEAR_SUBMIT":return{success:!1,submitting:!1,errorSubmit:""};default:return e}},h=Object(c.c)({modules:u,notifications:m,moduleInfos:d,notificationInfos:p,moduleSubmit:f}),E=a(4),g=a.n(E),b=a(8),v={getModules:function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(fetch("https://bouatim-webreath-iot-backend.herokuapp.com/api/modules?page="+(e-1)));case 3:return t=n.sent,n.next=6,g.a.awrap(t.json());case 6:if(!(a=n.sent).errorMessage){n.next=9;break}throw{message:a.errorMessage};case 9:return n.abrupt("return",{modules:a.modules,count:a.count});case 12:throw n.prev=12,n.t0=n.catch(0),{message:n.t0.message};case 15:case"end":return n.stop()}}),null,null,[[0,12]])},getNotifications:function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(fetch("https://bouatim-webreath-iot-backend.herokuapp.com/api/notifications?page="+(e-1)));case 3:return t=n.sent,n.next=6,g.a.awrap(t.json());case 6:if(!(a=n.sent).errorMessage){n.next=9;break}throw{message:a.errorMessage};case 9:return n.abrupt("return",{notifications:a.notifications,count:a.count});case 12:throw n.prev=12,n.t0=n.catch(0),{message:n.t0.message};case 15:case"end":return n.stop()}}),null,null,[[0,12]])},getModuleInfos:function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(fetch("https://bouatim-webreath-iot-backend.herokuapp.com/api/modules/"+e));case 3:return t=n.sent,n.next=6,g.a.awrap(t.json());case 6:if(!(a=n.sent).errorMessage){n.next=9;break}throw{message:a.errorMessage};case 9:return n.abrupt("return",{module:a.module,temperatureHistory:a.temperatureHistory,activityStateHistory:a.activityStateHistory,dataExchangeHistory:a.dataExchangeHistory});case 12:throw n.prev=12,n.t0=n.catch(0),{message:n.t0.message};case 15:case"end":return n.stop()}}),null,null,[[0,12]])},getNotificationInfos:function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(fetch("https://bouatim-webreath-iot-backend.herokuapp.com/api/notifications/"+e));case 3:return t=n.sent,n.next=6,g.a.awrap(t.json());case 6:if(!(a=n.sent).errorMessage){n.next=9;break}throw{message:a.errorMessage};case 9:return n.abrupt("return",{module:a.module,notification:a.notification});case 12:throw n.prev=12,n.t0=n.catch(0),{message:n.t0.message};case 15:case"end":return n.stop()}}),null,null,[[0,12]])},createNewModule:function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(fetch("https://bouatim-webreath-iot-backend.herokuapp.com/api/modules",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 3:return t=n.sent,n.next=6,g.a.awrap(t.json());case 6:if(!(a=n.sent).errorMessage){n.next=9;break}throw{message:a.errorMessage};case 9:n.next=14;break;case 11:throw n.prev=11,n.t0=n.catch(0),{message:n.t0.message};case 14:case"end":return n.stop()}}),null,null,[[0,11]])},updateNotificationSeen:function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(fetch("https://bouatim-webreath-iot-backend.herokuapp.com/api/notifications",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 3:t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),null,null,[[0,6]])}},y=g.a.mark(I),O=g.a.mark(M),N=g.a.mark(S);function I(e){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(b.b)(v.getModules,e.page);case 3:return t=a.sent,a.next=6,Object(b.c)({type:"LOAD_MODULES_SUCCESS",models:t.modules,count:t.count});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(b.c)({type:"LOAD_MODULES_FAILED",error:a.t0.message});case 12:case"end":return a.stop()}}),y,null,[[0,8]])}function M(e){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(b.b)(v.getModuleInfos,e.id);case 3:return t=a.sent,a.next=6,Object(b.c)({type:"LOAD_MODULE_BY_ID_SUCCESS",model:t.module,temperatureHistory:t.temperatureHistory,activityStateHistory:t.activityStateHistory,dataExchangeHistory:t.dataExchangeHistory});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(b.c)({type:"LOAD_MODULE_BY_ID_FAILED",error:a.t0.message});case 12:case"end":return a.stop()}}),O,null,[[0,8]])}function S(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.b)(v.createNewModule,e.model);case 3:return t.sent,t.next=6,Object(b.c)({type:"CREATE_MODULE_SUCCESS"});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(b.c)({type:"CREATE_MODULE_FAILED",error:t.t0.message});case 12:case"end":return t.stop()}}),N,null,[[0,8]])}var D=g.a.mark(k),w=g.a.mark(x);function k(e){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(b.b)(v.getNotifications,e.page);case 3:return t=a.sent,a.next=6,Object(b.c)({type:"LOAD_NOTIFICATIONS_SUCCESS",notifications:t.notifications,count:t.count});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(b.c)({type:"LOAD_NOTIFICATIONS_FAILED",error:a.t0.message});case 12:case"end":return a.stop()}}),D,null,[[0,8]])}function x(e){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(b.b)(v.getNotificationInfos,e.id);case 3:return t=a.sent,a.next=6,Object(b.c)({type:"LOAD_NOTIFICATION_BY_ID_SUCCESS",notification:t.notification,model:t.module});case 6:return a.next=8,Object(b.b)(v.updateNotificationSeen,{id:e.id});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(b.c)({type:"LOAD_NOTIFICATION_BY_ID_FAILED",error:a.t0.message});case 14:case"end":return a.stop()}}),w,null,[[0,10]])}var A=g.a.mark(C);function C(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([Object(b.d)("LOAD_MODULES_REQUEST",I),Object(b.d)("LOAD_MODULE_BY_ID_REQUEST",M),Object(b.d)("CREATE_MODULE_REQUEST",S),Object(b.d)("LOAD_NOTIFICATIONS_REQUEST",k),Object(b.d)("LOAD_NOTIFICATION_BY_ID_REQUEST",x)]);case 2:case"end":return e.stop()}}),A)}a(100);var _=a(9),j=a(10),L=a(12),H=a(11),T=a(13),U=(a(101),a(102),a(103),a(81)),V=a.n(U),F=function(e){return r.a.createElement("div",{className:"Logo"},r.a.createElement("a",{href:"http://webreathe.fr/",target:"blank"},r.a.createElement("img",{src:V.a})))},B=(a(104),a(26)),R=function(e){return r.a.createElement("li",{className:"NavigationItem"},r.a.createElement(B.c,{to:e.link,activeStyle:{color:"white",fontWeight:"bold"},exact:!0,onClick:e.hide},e.title))},P=(a(106),function(e){return r.a.createElement("ul",{className:"NavigationItems"},r.a.createElement(R,{hide:e.clicked,title:"New module",link:"/webreathe/newmodule"}),r.a.createElement(R,{hide:e.clicked,title:"My Modules",link:"/webreathe/"}),r.a.createElement(R,{hide:e.clicked,title:"Notifications",link:"/webreathe/notifications"}))}),Q=(a(107),function(e){return r.a.createElement("div",{className:"DropDownButton",onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),Y=(a(108),a(109),function(e){return r.a.createElement("div",{className:"BackDrop",onClick:e.closed})}),q=function(e){return e.children},z=function(e){var t=["DropDown","Close"];return e.show&&(t=["DropDown","Open"]),r.a.createElement(q,null,e.show?r.a.createElement(Y,{closed:e.clicked}):null,r.a.createElement("div",{className:t.join(" ")},r.a.createElement(P,{clicked:e.clicked})))},J=(a(110),function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(L.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).state={dropDownIsVisible:!1},a.showDropDownHandler=function(){a.setState((function(e){return{dropDownIsVisible:!e.dropDownIsVisible}}))},a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"Header"},r.a.createElement(z,{clicked:this.showDropDownHandler,show:this.state.dropDownIsVisible}),r.a.createElement(Q,{clicked:this.showDropDownHandler}),r.a.createElement(F,null),r.a.createElement("nav",null,r.a.createElement(P,{add:this.props.clicked})))}}]),t}(n.Component)),W=a(30),$=(a(111),a(33)),G=a(48),K=a(27),X=a(32),Z=(a(112),a(18)),ee=function(e){return r.a.createElement(q,null,r.a.createElement("div",{className:"FormHeader"},r.a.createElement("h4",{onClick:e.navigate,style:{color:e.phase?"":"rgb(167, 170, 171)"}},r.a.createElement(Z.a,null)),r.a.createElement("h5",null,"Module informations"),r.a.createElement("h6",null," ",e.phase?"2":"1"," of 2")),r.a.createElement("div",{className:"BarStatus"},r.a.createElement("div",{style:{backgroundColor:e.form1IsValid?"rgb(105, 203, 224)":"rgb(167, 170, 171)"}}),r.a.createElement("div",{style:{backgroundColor:e.form2IsValid?"rgb(105, 203, 224)":"rgb(167, 170, 171)"}})))},te=(a(113),function(e){return r.a.createElement(q,null,r.a.createElement("div",{className:"Form1Body"},r.a.createElement(ee,{form1IsValid:e.form1IsValid,form2IsValid:e.form2IsValid}),r.a.createElement("p",null,"Please fill some basic informations abaout the module."),r.a.createElement("div",{className:"Form1Field"},r.a.createElement("span",null,r.a.createElement(X.b,null)),r.a.createElement("input",{type:"text",placeholder:"Module Name",value:e.name,onChange:function(t){return e.form1Handler(0,t.target.value)},required:!0})),r.a.createElement("div",{className:"Form1Field"},r.a.createElement("span",null,r.a.createElement($.a,null)),r.a.createElement("input",{type:"text",placeholder:"Module Type",value:e.type,onChange:function(t){return e.form1Handler(1,t.target.value)},required:!0})),r.a.createElement("div",{className:"Form1Field"},r.a.createElement("span",null,r.a.createElement(G.a,null)),r.a.createElement("input",{type:"number",onChange:function(t){return e.form1Handler(2,t.target.value)},value:e.number,placeholder:"Module Number",required:!0})),r.a.createElement("div",{className:"Form2Field"},r.a.createElement("span",null,r.a.createElement(K.a,null)),r.a.createElement("textarea",{type:"text",onChange:function(t){return e.form1Handler(3,t.target.value)},value:e.description,placeholder:"Module Description",required:!0})),r.a.createElement("button",{disabled:!e.form1IsValid,className:"Form1Continue",type:"submit",onClick:e.navigate},"Continue")))}),ae=(a(114),a(115),function(e){return r.a.createElement("div",{class:"spinner"},r.a.createElement("div",{class:"cube1"}),r.a.createElement("div",{class:"cube2"}))}),ne=a(20),re=a(49),ie=function(e){return r.a.createElement(q,null,r.a.createElement("div",{className:"Form2Body"},e.submitting?r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(ae,null)):r.a.createElement(q,null,r.a.createElement(ee,{navigate:e.navigate,phase:e.phase,form2IsValid:e.form2IsValid,form1IsValid:e.form1IsValid}),r.a.createElement("p",null,"Please select at least one item to monitor."),r.a.createElement("div",{className:"ItemsContainer"},r.a.createElement("a",{style:{backgroundColor:e.temperature?"rgb(105, 203, 224)":""},onClick:function(){return e.selectItemsHandler(0)}},r.a.createElement("span",{style:{color:e.temperature?"white":""}},r.a.createElement(ne.d,null)),r.a.createElement("span",{className:"itemLabel",style:{color:e.temperature?"white":""}},"Temperature")),r.a.createElement("a",{style:{backgroundColor:e.activityDuration?"rgb(105, 203, 224)":""},onClick:function(){return e.selectItemsHandler(3)}},r.a.createElement("span",{style:{color:e.activityDuration?"white":""}},r.a.createElement(re.b,null)),r.a.createElement("span",{style:{color:e.activityDuration?"white":""},className:"itemLabel"},"Activity Duration")),r.a.createElement("a",{style:{backgroundColor:e.activityState?"rgb(105, 203, 224)":""},onClick:function(){return e.selectItemsHandler(2)}},r.a.createElement("span",{style:{color:e.activityState?"white":""}},r.a.createElement(X.a,null)),r.a.createElement("span",{style:{color:e.activityState?"white":""},className:"itemLabel"},"Activity State")),r.a.createElement("a",{style:{backgroundColor:e.dataExchange?"rgb(105, 203, 224)":""},onClick:function(){return e.selectItemsHandler(1)}},r.a.createElement("span",{style:{color:e.dataExchange?"white":""}},r.a.createElement(ne.b,null)),r.a.createElement("span",{style:{color:e.dataExchange?"white":""},className:"itemLabel"},"Data Exchange"))),r.a.createElement("button",{disabled:!e.form1IsValid||!e.form2IsValid||e.submitting,className:"SubmitButton",onClick:function(t){return e.submit(t)}},"submit"))))},oe=(a(116),function(e){return r.a.createElement(q,null,r.a.createElement("div",{className:"imageHolder"},r.a.createElement("span",null,r.a.createElement(re.a,null)," Form Status")),r.a.createElement("div",{className:"messageStatus"},r.a.createElement("span",{style:{color:e.name.trim().length?"green":"red",marginRight:"1%",marginTop:"1%"}},e.name.trim().length?r.a.createElement(ne.a,null):r.a.createElement(Z.b,null)),r.a.createElement("span",null,e.name.trim().length?"Module name is valid":"Please fill the Module Name")),r.a.createElement("div",{className:"messageStatus"},r.a.createElement("span",{style:{color:e.type.trim().length?"green":"red",marginRight:"1%",marginTop:"1%"}},e.type.trim().length?r.a.createElement(ne.a,null):r.a.createElement(Z.b,null)),r.a.createElement("span",null,e.type.trim().length?"Module Type is valid":"Please fill the Module Type")),r.a.createElement("div",{className:"messageStatus"},r.a.createElement("span",{style:{color:e.number?"green":"red",marginRight:"1%",marginTop:"1%"}},e.number?r.a.createElement(ne.a,null):r.a.createElement(Z.b,null)),r.a.createElement("span",null,e.number?"Module Number is valid":"Please fill the Module Number")),r.a.createElement("div",{className:"messageStatus"},r.a.createElement("span",{style:{color:e.description.trim().length?"green":"red",marginRight:"1%",marginTop:"1%"}},e.description.trim().length?r.a.createElement(ne.a,null):r.a.createElement(Z.b,null)),r.a.createElement("span",null,e.description.trim().length?"Module Description is valid":"Please fill the Module Description")),r.a.createElement("div",{className:"messageStatus"},r.a.createElement("span",{style:{color:e.form2IsValid?"green":"red",marginRight:"1%",marginTop:"1%"}},e.form2IsValid?r.a.createElement(ne.a,null):r.a.createElement(Z.b,null)),r.a.createElement("span",null,e.form2IsValid?"At least one item to monitor is selected":"Please select one criteria to monitor")))}),ce=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(L.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).state={phase2:!1,temperature:!1,dataExchange:!1,activityState:!1,activityDuration:!1,form2IsValid:!1,name:"",type:"",number:null,description:"",form1IsValid:!1},a.changephaseHandler=function(){a.setState((function(e){return{phase2:!e.phase2}}))},a.isInt=function(e){var t;return!isNaN(e)&&(0|(t=parseFloat(e)))===t},a.form1Handler=function(e,t){switch(e){case 0:a.setState({name:t,form1IsValid:t.trim().length&&a.state.type.trim().length&&a.state.description.trim().length&&a.isInt(a.state.number)});break;case 1:a.setState({type:t,form1IsValid:t.trim().length&&a.state.name.trim().length&&a.state.description.trim().length&&a.isInt(a.state.number)});break;case 2:a.setState({number:t,form1IsValid:a.isInt(t)&&a.state.type.trim().length&&a.state.description.trim().length&&a.state.name.trim().length});break;case 3:a.setState({description:t,form1IsValid:t.trim().length&&a.state.type.trim().length&&a.state.name.trim().length&&a.isInt(a.state.number)})}},a.selectItemsHandler=function(e){switch(e){case 0:a.setState((function(e){return{temperature:!e.temperature,form2IsValid:!e.temperature||e.dataExchange||e.activityState||e.activityDuration}}));break;case 1:a.setState((function(e){return{dataExchange:!e.dataExchange,form2IsValid:e.temperature||!e.dataExchange||e.activityState||e.activityDuration}}));break;case 2:a.setState((function(e){return{activityState:!e.activityState,form2IsValid:e.temperature||e.dataExchange||!e.activityState||e.activityDuration}}));break;case 3:a.setState((function(e){return{activityDuration:!e.activityDuration,form2IsValid:e.temperature||e.dataExchange||e.activityState||!e.activityDuration}}))}},a.submitHandler=function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a.props.createModule({title:a.state.name,type:a.state.type,number:a.state.number,description:a.state.description,shouldMonitorData:a.state.dataExchange,shouldMonitorTemperature:a.state.temperature,shouldMonitorActivityState:a.state.activityState,shouldMonitorActivityDuration:a.state.activityDuration});case 2:case"end":return t.stop()}}))},a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e,t=this;return this.props.success&&(this.props.clearSubmit(),this.props.history.push("/webreathe")),r.a.createElement("div",{className:"NewModuleContainer"},r.a.createElement("div",{className:"NewModule"},r.a.createElement("div",{className:"ModuleHeader"},r.a.createElement("h1",null,r.a.createElement(K.b,null)),r.a.createElement("h2",null,"New Module")),r.a.createElement("div",{className:"ModuleBody"},r.a.createElement("form",{className:"LeftSide"},this.state.phase2?r.a.createElement(ie,(e={navigate:this.changephaseHandler,submit:this.submitHandler,submitting:this.props.submitting,form1IsValid:this.state.form1IsValid,form2IsValid:this.state.form2IsValid,selectItemsHandler:function(e){return t.selectItemsHandler(e)},activityDuration:this.state.activityDuration},Object(W.a)(e,"form2IsValid",this.state.form2IsValid),Object(W.a)(e,"activityState",this.state.activityState),Object(W.a)(e,"temperature",this.state.temperature),Object(W.a)(e,"dataExchange",this.state.dataExchange),Object(W.a)(e,"phase",this.state.phase2),e)):r.a.createElement(te,{navigate:this.changephaseHandler,form1IsValid:this.state.form1IsValid,form2IsValid:this.state.form2IsValid,name:this.state.name,type:this.state.type,number:this.state.number,description:this.state.description,form1Handler:function(e,a){return t.form1Handler(e,a)},phase:this.state.phase2})),r.a.createElement("div",{className:"RightSide"},r.a.createElement(oe,{form2IsValid:this.state.form2IsValid,name:this.state.name,type:this.state.type,number:this.isInt(this.state.number),description:this.state.description})))))}}]),t}(n.Component),se=Object(o.b)((function(e){return{submitting:e.moduleSubmit.submitting,error:e.moduleSubmit.errorSubmit,success:e.moduleSubmit.success}}),(function(e){return{createModule:function(t){return e({type:"CREATE_MODULE_REQUEST",model:t})},clearSubmit:function(){return e({type:"CLEAR_SUBMIT"})}}}))(ce),le=(a(117),a(118),function(e){return r.a.createElement(B.b,{className:"MyModule",to:"/webreathe/"+e.id},r.a.createElement("div",{className:"MyModuleHeading"},r.a.createElement("h2",null,e.title)),r.a.createElement("div",{className:"MyModuleBody"},r.a.createElement("p",null,e.description)),r.a.createElement("span",null,"created at : ",e.createdAt))}),ue=(a(119),a(88)),me=(a(120),function(e){return r.a.createElement("button",{className:"PaginationItem",style:{backgroundColor:e.page===e.index&&"white",color:e.page===e.index&&"black"},onClick:function(){return e.clicked(e.index)}},e.index)}),de=(a(121),function(e){return r.a.createElement("div",{className:"PaginationItems"},Object(ue.a)(Array(e.count)).map((function(t,a){return r.a.createElement(me,{page:e.currentPage,clicked:e.clicked,index:a+1})})))}),pe=(a(122),function(e){return r.a.createElement("div",{class:"sk-cube-grid"},r.a.createElement("div",{class:"sk-cube sk-cube1"}),r.a.createElement("div",{class:"sk-cube sk-cube2"}),r.a.createElement("div",{class:"sk-cube sk-cube3"}),r.a.createElement("div",{class:"sk-cube sk-cube4"}),r.a.createElement("div",{class:"sk-cube sk-cube5"}),r.a.createElement("div",{class:"sk-cube sk-cube6"}),r.a.createElement("div",{class:"sk-cube sk-cube7"}),r.a.createElement("div",{class:"sk-cube sk-cube8"}),r.a.createElement("div",{class:"sk-cube sk-cube9"}))}),fe=(a(123),a(83)),he=a.n(fe),Ee=function(e){return r.a.createElement("div",{className:"ErrorMessage"},r.a.createElement("img",{src:he.a}),r.a.createElement("h3",null,"Something went wrong"),r.a.createElement("p",null,e.errorMessage))},ge=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(L.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).changePageHandler=function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.loadModules(e);case 1:case"end":return t.stop()}}))},a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadModules(this.props.currentPage);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"MyModulesContainer"},r.a.createElement("div",{className:"MyModules"},this.props.loading?r.a.createElement(pe,null):this.props.error?r.a.createElement(Ee,{errorMessage:this.props.error}):this.props.modules.map((function(e){return r.a.createElement(le,{key:e.id,id:e.id,description:e.description,title:e.title,createdAt:e.created_at})}))),1!==this.props.count?r.a.createElement(de,{currentPage:this.props.currentPage,clicked:this.changePageHandler,count:this.props.count}):null)}}]),t}(n.Component),be=Object(o.b)((function(e){return{modules:e.modules.modules,loading:e.modules.loadingModules,count:e.modules.countModules,currentPage:e.modules.pageModules,error:e.modules.errorModules}}),(function(e){return{loadModules:function(t){return e(function(e){return{type:"LOAD_MODULES_REQUEST",page:e}}(t))}}}))(ge),ve=(a(124),a(125),a(84)),ye=a.n(ve),Oe=function(e){return r.a.createElement("div",{className:"ModuleInfos"},r.a.createElement("div",{className:"ModuleInfosHeader"},r.a.createElement("img",{src:ye.a}),r.a.createElement("h3",null,"Module Infos")),r.a.createElement("div",{className:"ModuleInfosBody"},r.a.createElement("h3",null,r.a.createElement(G.a,null)," Number: ",e.number),r.a.createElement("h3",null,r.a.createElement(X.b,null)," Title : ",e.title),r.a.createElement("h3",null,r.a.createElement($.a,null)," Type : ",e.type),r.a.createElement("h3",null,r.a.createElement(ne.c,null)," State : ",0===e.state?"OFF":"ON"," "),r.a.createElement("h3",null,r.a.createElement(K.a,null)," Description : ",e.description),r.a.createElement("h3",null,r.a.createElement(Z.c,null)," Creatd At : ",e.createdAt)))},Ne=(a(126),a(127),a(28)),Ie=function(e){var t=24;e.durationList.length&&e.durationList.map((function(e){e.isActive||(t-=1)}));var a={datasets:[{data:[24-t,t],backgroundColor:["#e82525","#3ddbac"]}],labels:["Off","On"]};return r.a.createElement("div",{className:"ActivityDurationMonitor"},r.a.createElement("div",null,r.a.createElement(Ne.a,{data:a,options:{maintainAspectRatio:!1,legend:{display:!0,position:"left",align:"center"},title:{display:!0,text:"Activity during 24h",fontColor:"#fff"}}})))},Me=(a(220),function(e){var t=e.activityStateList.map((function(e){return e.isActive})),a={labels:e.activityStateList.map((function(e){return e.detectedAt})),datasets:[{label:"Activity State during  24 h",fill:!1,borderColor:"rgba(75,192,192,1)",pointBorderColor:"rgba(75,192,192,1)",data:t,steppedLine:!0}]};return r.a.createElement("div",{className:"ActivityStateMonitor"},r.a.createElement("div",null,r.a.createElement(Ne.b,{data:a,options:{scales:{yAxes:[{ticks:{fontColor:"white"}}],xAxes:[{ticks:{fontColor:"white"},gridLines:{zeroLineColor:"#fff"}}]},maintainAspectRatio:!1,legend:{display:!0,labels:{fontColor:"rgb(255, 255, 255)"}}}})))}),Se=(a(221),function(e){var t=e.dataList.map((function(e){return e.sentData})),a=e.dataList.map((function(e){return e.recivedData})),n=e.dataList.map((function(e){return e.detectedAt}));console.log(t);var i={labels:n,datasets:[{label:"recived data during 24h",fill:!1,borderColor:"rgba(75,192,192,1)",pointBorderColor:"rgba(75,192,192,1)",data:a},{label:"sent data during  24h",fill:!1,borderColor:"rgb(255,174,25)",pointBorderColor:"rgb(255,174,25)",data:t}],backgroundColor:"rgb(255,255,255)"};return r.a.createElement("div",{className:"DataMonitor"},r.a.createElement("div",null,r.a.createElement(Ne.b,{data:i,options:{scales:{yAxes:[{ticks:{fontColor:"white",suggestedMin:0,suggestedMax:100},gridLines:{zeroLineColor:"#fff"}}],xAxes:[{ticks:{fontColor:"white"},gridLines:{zeroLineColor:"#fff"}}]},maintainAspectRatio:!1,legend:{display:!0,labels:{fontColor:"rgb(255, 255, 255)"}}}})))}),De=(a(222),function(e){var t=e.temperatureList.map((function(e){return e.temperature})),a={labels:e.temperatureList.map((function(e){return e.detectedAt})),datasets:[{label:"Temperature during one day",fill:!1,borderColor:"rgb(255, 33, 37)",pointBorderColor:"rgba(75,192,192,1)",data:t}]};return r.a.createElement("div",{className:"TemperatureMonitor"},r.a.createElement("div",null,r.a.createElement(Ne.b,{data:a,options:{scales:{yAxes:[{ticks:{fontColor:"white",suggestedMin:0,suggestedMax:50}}],xAxes:[{ticks:{fontColor:"white"},gridLines:{zeroLineColor:"#fff"}}]},maintainAspectRatio:!1,legend:{display:!0,labels:{fontColor:"rgb(255, 255, 255)"}}}})))}),we=function(e){return r.a.createElement("div",{className:"MyModuleMonitor"},e.loading?r.a.createElement(ae,null):e.error?r.a.createElement(Ee,{errorMessage:e.error}):null,e.shouldMonitorDuration?r.a.createElement(Ie,{durationList:e.activityStateHistory}):null,e.activityStateHistory.length?r.a.createElement(Me,{activityStateList:e.activityStateHistory}):null,e.temperatureHistory.length?r.a.createElement(De,{temperatureList:e.temperatureHistory}):null,e.dataExchangeHistory.length?r.a.createElement(Se,{dataList:e.dataExchangeHistory}):null)},ke=function(e){function t(){return Object(_.a)(this,t),Object(L.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.loadModule(this.props.match.params.id)}},{key:"render",value:function(){return console.log(this.props.error),r.a.createElement("div",{className:"MyModuleDetails"},r.a.createElement(Oe,{title:this.props.module&&this.props.module.title,type:this.props.module&&this.props.module.type,state:this.props.module&&this.props.module.state,createdAt:this.props.module&&this.props.module.created_at,description:this.props.module&&this.props.module.description}),r.a.createElement("div",{className:"MyModuleStats"},r.a.createElement(we,{error:this.props.error,loading:this.props.loading,shouldMonitorDuration:this.props.module&&this.props.module.shouldMonitorActivityDuration,temperatureHistory:this.props.temperatureHistory,activityStateHistory:this.props.activityStateHistory,dataExchangeHistory:this.props.dataExchangeHistory})))}}]),t}(n.Component),xe=Object(o.b)((function(e){return{module:e.moduleInfos.module,loading:e.moduleInfos.loadingModule,temperatureHistory:e.moduleInfos.temperatureHistory,activityStateHistory:e.moduleInfos.activityStateHistory,dataExchangeHistory:e.moduleInfos.dataExchangeHistory,error:e.moduleInfos.errorModule}}),(function(e){return{loadModule:function(t){return e(function(e){return{type:"LOAD_MODULE_BY_ID_REQUEST",id:e}}(t))}}}))(ke),Ae=(a(223),a(224),a(225),a(86)),Ce=a.n(Ae),_e=function(e){var t=["NotificationItem"];return console.log(e),e.seen||(t=["NotificationItem","ActiveNotification"]),r.a.createElement(B.b,{to:"/webreathe/notifications/"+e.id,className:t.join(" ")},r.a.createElement("div",{className:"NotificationItemImage"},r.a.createElement("img",{src:Ce.a})),r.a.createElement("div",{className:"NotificationItemHeader"},r.a.createElement("h2",null,e.type)),r.a.createElement("div",{className:"NotificationItemBody"},r.a.createElement("p",null,e.description),r.a.createElement("span",null,"Created at: ",e.createdAt)))},je=function(e){return r.a.createElement("div",{className:"NotificationsBody"},e.loading?r.a.createElement(pe,null):e.error?r.a.createElement(Ee,{errorMessage:e.error}):e.notifications.map((function(e){return r.a.createElement(_e,{key:e.id,id:e.id,type:e.type,description:e.notificationDescription,seen:e.seen,createdAt:e.detectedAt})})))},Le=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(L.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).changePageHandler=function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.loadNotifications(e);case 1:case"end":return t.stop()}}))},a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadNotifications(this.props.currentPage);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Notifications"},r.a.createElement(je,{notifications:this.props.notifications,error:this.props.error,loading:this.props.loading}),1!==this.props.count?r.a.createElement(de,{currentPage:this.props.currentPage,clicked:this.changePageHandler,count:this.props.count}):null)}}]),t}(n.Component),He=Object(o.b)((function(e){return{notifications:e.notifications.notifications,loading:e.notifications.loadingNotifications,count:e.notifications.countNotifications,currentPage:e.notifications.pageNotifications,error:e.notifications.errorNotifications}}),(function(e){return{loadNotifications:function(t){return e(function(e){return{type:"LOAD_NOTIFICATIONS_REQUEST",page:e}}(t))}}}))(Le),Te=(a(226),a(227),a(87)),Ue=a.n(Te),Ve=function(e){return r.a.createElement("div",{className:"NotificationInfos"},r.a.createElement("div",{className:"NotificationInfosHeader"},r.a.createElement("img",{src:Ue.a}),r.a.createElement("h3",null,"Notification Infos")),r.a.createElement("div",{className:"NotificationInfosBody"},r.a.createElement("h3",null,r.a.createElement($.a,null)," Type : ",e.type),r.a.createElement("h3",null,r.a.createElement(K.a,null)," Description : ",e.description),r.a.createElement("h3",null,r.a.createElement(Z.c,null)," Creatd At : ",e.createdAt)))},Fe=function(e){function t(){return Object(_.a)(this,t),Object(L.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadNotification(this.props.match.params.id);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"NotificationDetails"},this.props.loading?r.a.createElement(ae,null):this.props.error?r.a.createElement(Ee,{errorMessage:this.props.error}):r.a.createElement(q,null,r.a.createElement(Ve,{type:this.props.notification&&this.props.notification.type,description:this.props.notification&&this.props.notification.notificationDescription,createdAt:this.props.notification&&this.props.notification.detectedAt}),r.a.createElement(Oe,{number:this.props.module&&this.props.module.number,title:this.props.module&&this.props.module.title,type:this.props.module&&this.props.module.type,state:this.props.module&&this.props.module.state,createdAt:this.props.module&&this.props.module.created_at,description:this.props.module&&this.props.module.description})))}}]),t}(n.Component),Be=Object(o.b)((function(e){return{module:e.notificationInfos.module,notification:e.notificationInfos.notification,error:e.notificationInfos.errorNotification,loading:e.notificationInfos.loadingNotification}}),(function(e){return{loadNotification:function(t){return e(function(e){return{type:"LOAD_NOTIFICATION_BY_ID_REQUEST",id:e}}(t))}}}))(Fe),Re=a(29),Pe=function(e){function t(){return Object(_.a)(this,t),Object(L.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(q,null,r.a.createElement(B.a,null,r.a.createElement(J,null),r.a.createElement("div",{className:"Main"},r.a.createElement(Re.c,null,r.a.createElement(Re.a,{path:"/webreathe/",exact:!0,component:be}),r.a.createElement(Re.a,{path:"/webreathe/newmodule",exact:!0,component:se}),r.a.createElement(Re.a,{path:"/webreathe/notifications",exact:!0,component:He}),r.a.createElement(Re.a,{path:"/webreathe/:id",exact:!0,component:xe}),r.a.createElement(Re.a,{path:"/webreathe/notifications/:id",exact:!0,component:Be})))))}}]),t}(n.Component),Qe=function(e){function t(){return Object(_.a)(this,t),Object(L.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Pe,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=Object(s.a)(),qe=Object(c.e)(h,Object(c.a)(Ye));Ye.run(C),Object(i.render)(r.a.createElement(o.a,{store:qe},r.a.createElement(Qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){e.exports=a.p+"static/media/webreathe.f8759fa3.png"},83:function(e,t,a){e.exports=a.p+"static/media/Error.4799c96f.svg"},84:function(e,t,a){e.exports=a.p+"static/media/moduleInfos.e3381599.svg"},86:function(e,t,a){e.exports=a.p+"static/media/notification.2a8153ef.svg"},87:function(e,t,a){e.exports=a.p+"static/media/notification1.99bbd081.svg"},90:function(e,t,a){e.exports=a(228)}},[[90,1,2]]]);
//# sourceMappingURL=main.b8bc253e.chunk.js.map